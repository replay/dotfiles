#!/bin/sh

#Â Shell-neutral profile settings.

. "${HOME}/.shell_functions"

# If homebrew is in use, put it first so I can replace system binaries like
# vim.
if [ -d "/usr/local/Cellar" ]; then
    PATH="/usr/local/bin:/usr/local/sbin:${PATH}"
fi
if [ -d "/usr/local/go/bin" ]; then
    PATH="/usr/local/go/bin:${PATH}"
fi
PATH="${HOME}/gbin:${HOME}/bin:${HOME}/src/gopath/bin:${PATH}"
PATH="${PATH}:/sbin:/usr/sbin"
PATH="$(deduplicate_path "${PATH}")"
export PATH

# The trailing : is important on Linux; it means to append the standard
# search path to ${MANPATH}.
MANPATH="$(deduplicate_path "${HOME}/man${MANPATH:+:}${MANPATH:-}:")"
# Where Go should install stuff.
# Also trick Go into finding things in ~/src.
GOPATH="$(deduplicate_path "${HOME}/src/gopath:${HOME}${GOPATH:+:}${GOPATH:-}")"
export MANPATH GOPATH

# Replace xterm* with the best available.
case "${TERM}" in
  xterm*)
    for term in xterm xterm-color xterm-256color; do
      if tput -T"${term}" longname > /dev/null 2>&1; then
        TERM="${term}"
      fi
    done
  ;;
esac
export TERM

BROWSER="google-chrome"
EDITOR="vim"
PAGER="less"
# make less more friendly for non-text input files, see lesspipe(1)
if type lesspipe > /dev/null 2>&1; then
  eval "$(lesspipe)"
fi
# smart case matching; long prompt; suppress dumb terminal error messages;
# allow ANSI colour escape sequences; highlight the first new line when
# moving through the file
LESS="iMdRW${LESS}"
export BROWSER EDITOR LESS PAGER

# If grep is happy with these options then export them for automatic use
GREP_OPTIONS='--color=auto'
if (echo foo | GREP_OPTIONS="${GREP_OPTIONS}" grep -q foo 2> /dev/null); then
  export GREP_OPTIONS
else
  unset GREP_OPTIONS
fi

LC_COLLATE="C"
export LC_COLLATE
